<main class="hero">
  <!-- BACKGROUND -->
  <div class="bg-video">
    <video
      id="bg-video"
      src="../public/video/video.mp4"
      autoplay
      muted
      loop
      playsinline></video>
  </div>

  <div class="diagram" role="img">
    <svg viewBox="0 0 620 620">
      <polygon
        class="poly"
        points="
      310,90
      500.526,200
      500.526,420
      310,530
      119.474,420
      119.474,200
    "
      ></polygon>

      <!-- ARRIBA -->
      <g class="item up" transform="translate(310,90)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">02.</text>
          <text class="label" dy="16">Economía</text>
          <text class="sublabel" dy="32">Inteligente</text>
        </g>
      </g>

      <!-- DERECHA ARRIBA -->
      <g class="item right" transform="translate(500.526,200)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">03.</text>
          <text class="label" dy="16">Movilidad e</text>
          <text class="label" dy="32">Infraestructuras</text>
          <text class="sublabel" dy="48">Inteligentes</text>
        </g>
      </g>

      <!-- DERECHA ABAJO -->
      <g class="item right" transform="translate(500.526,420)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">04.</text>
          <text class="label" dy="16">Medio Ambiente</text>
          <text class="sublabel" dy="32">Inteligente</text>
        </g>
      </g>

      <!-- ABAJO -->
      <g class="item down" transform="translate(310,530)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">05.</text>
          <text class="label" dy="16">Hábitat y Servicios</text>
          <text class="sublabel" dy="32">Inteligentes</text>
        </g>
      </g>

      <!-- IZQUIERDA ABAJO -->
      <g class="item left" transform="translate(119.474,420)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">06.</text>
          <text class="label" dy="16">Sociedad</text>
          <text class="sublabel" dy="32">Inteligente</text>
        </g>
      </g>

      <!-- IZQUIERDA ARRIBA -->
      <g class="item left" transform="translate(119.474,200)">
        <circle r="7" class="node"></circle>
        <g class="text">
          <text class="num">01.</text>
          <text class="label" dy="16">Gobernanza</text>
          <text class="sublabel" dy="32">Inteligente</text>
        </g>
      </g>

      <!-- CENTRO -->
      <g transform="translate(310,310)" text-anchor="middle">
        <text class="center-sub" y="-10">Implementación</text>
        <text class="center-title" y="36">Smart City</text>
      </g>
    </svg>
  </div>
  <div class="bottom-left" aria-hidden="true">
    <div class="guidance">+ Guidance on regulatory implementation</div>
    <div class="pill">cities and communities →</div>
  </div>

  <div class="social" aria-hidden="true">
    <a href="#">f</a>
    <a href="#">t</a>
    <a href="#">ig</a>
    <a href="#">in</a>
  </div>

  <div class="scroll" aria-hidden="true"></div>
</main>

<style>
    .bg-video {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    overflow: hidden;
  }
  .bg-video iframe,
  .bg-video video {
    width: 100%;
    height: 100%;
    border: 0;
    pointer-events: none;
    object-fit: cover;
  }

  /* HERO */
  .hero {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }
  
  .diagram {
    --gap-up: 70px;
    --gap-down: 40px;
    --gap-left: 80px;
    --gap-right: 80px;

    width: 100vw;
    height: 700px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  svg {
    width: 100%;
    height: 100%;
  }

  .poly {
    fill: none;
    stroke: rgba(255, 255, 255, 0.18);
    stroke-width: 1.6;
  }

  .node {
    fill: transparent;
    stroke: rgba(255, 255, 255, 0.9);
    stroke-width: 1.6;
  }

  .text {
    text-anchor: middle;
    pointer-events: none;
  }

  /* separación dinámica por dirección */
  .item.up .text {
    transform: translate(0, calc(-1 * var(--gap-up)));
  }
  .item.down .text {
    transform: translate(0, var(--gap-down));
  }
  .item.left .text {
    transform: translate(calc(-1 * var(--gap-left)), 0);
    text-anchor: center;
  }
  .item.right .text {
    transform: translate(var(--gap-right), 0);
    text-anchor: center;
  }

  /* FIX baseline SVG (CRÍTICO PARA ARRIBA) */
  .item.up .text text {
    dominant-baseline: hanging;
  }

  /* tipografía */
  .num {
    fill: #bdbdbd;
    font-size: 11px;
    font-weight: 700;
  }

  .label {
    fill: #fff;
    font-size: 13px;
    font-weight: 800;
  }

  .sublabel {
    fill: #cfcfcf;
    font-size: 11px;
    font-weight: 600;
  }

  /* centro */
  .center-sub {
    fill: #bdbdbd;
    font-size: 30px;
  }

  .center-title {
    fill: #fff;
    font-size: 56px;
    font-weight: 800;
  }
</style>
